<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ù…ØµØ­Ù Ø§Ù„Ù†Ø®Ø¨Ø©</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap');
        
        :root {
            --bg-body: #fdfbf7;
            --bg-card: #ffffff;
            --text-main: #5d7c6d;
            --header-bg: #ffffff;
            --gold-border: #e2d1b1;
            --accent-color: #8fb9a8;
            --item-text: #444;
        }

        body.dark-mode {
            --bg-body: #1a1a1a;
            --bg-card: #2d2d2d;
            --text-main: #d4af37;
            --header-bg: #222222;
            --gold-border: #444;
            --item-text: #eee;
        }

        body {
            font-family: 'Tajawal', sans-serif;
            background-color: var(--bg-body);
            margin: 0; display: flex; flex-direction: column;
            height: 100vh; overflow: hidden; transition: all 0.4s ease;
        }

        header {
            background: var(--header-bg);
            padding: 20px 15px;
            display: flex; flex-direction: column;
            align-items: center; justify-content: center;
            border-bottom: 2px solid var(--gold-border);
            position: relative;
        }

        .night-mode-btn {
            position: absolute; left: 15px; top: 20px;
            background: var(--bg-card); border: 1px solid var(--gold-border);
            border-radius: 50%; width: 40px; height: 40px; cursor: pointer;
            display: flex; align-items: center; justify-content: center; font-size: 1.2rem;
        }

        #mainLogo { 
            width: 65px; height: 65px; border-radius: 50%; 
            border: 3px solid var(--gold-border); margin-bottom: 8px;
        }

        .app-title { font-weight: 700; color: var(--text-main); font-size: 1.4rem; }

        .color-palette {
            display: flex; justify-content: center; gap: 12px; padding: 15px;
        }
        .color-dot {
            width: 30px; height: 30px; border-radius: 50%;
            border: 2px solid white; cursor: pointer; box-shadow: 0 3px 6px rgba(0,0,0,0.1);
        }

        .fixed-controls { padding: 0 20px 10px 20px; }
        .action-bar {
            background: var(--accent-color); color: white; 
            border-radius: 12px; cursor: pointer; text-align: center;
        }
        .folder-btn { padding: 12px; font-weight: bold; }

        .scrollable-content {
            flex-grow: 1; overflow-y: auto; padding: 0 20px 120px 20px;
        }

        #qariMenu {
            display: none; grid-template-columns: repeat(2, 1fr); gap: 15px; animation: fadeIn 0.4s;
        }
        .qari-card {
            background: var(--bg-card); padding: 15px; border-radius: 15px;
            text-align: center; border: 1px solid var(--gold-border);
        }
        .qari-img { width: 70px; height: 70px; border-radius: 50%; margin-bottom: 8px; border: 2px solid var(--accent-color); }

        .surah-item { 
            padding: 15px; border-bottom: 1px solid var(--gold-border); 
            display: flex; justify-content: space-between; color: var(--item-text);
            cursor: pointer;
        }

        .designer-credit {
            text-align: center; padding: 15px; font-size: 0.8rem;
            color: var(--text-main); opacity: 0.8; font-weight: bold;
        }

        /* Ø§Ù„Ù…Ø´ØºÙ„ Ø§Ù„Ù…Ø·ÙˆØ± */
        .modern-player {
            position: fixed; bottom: -250px; left: 50%; transform: translateX(-50%);
            width: 90%; max-width: 400px; background: var(--accent-color);
            border-radius: 20px; padding: 15px; z-index: 2000; transition: bottom 0.5s;
            box-shadow: 0 -5px 15px rgba(0,0,0,0.2);
        }
        .modern-player.active { bottom: 20px; }
        .player-header { display: flex; justify-content: space-between; color: white; margin-bottom: 10px; }
        #pTitle { font-weight: bold; font-size: 0.95rem; }
        #pQari { font-size: 0.8rem; opacity: 0.9; margin-top: 2px; }
        audio { width: 100%; height: 40px; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>

<header>
    <button class="night-mode-btn" onclick="toggleNightMode()" id="nightBtn">ğŸŒ™</button>
    <img id="mainLogo" src="https://i.ibb.co/VcxPddNS/image.jpg" alt="Logo">
    <div class="app-title">Ù…ØµØ­Ù Ø§Ù„Ù†Ø®Ø¨Ø©</div>
</header>

<div class="color-palette">
    <div class="color-dot" style="background: #8fb9a8;" onclick="setTheme('#8fb9a8', '#fdfbf7')"></div>
    <div class="color-dot" style="background: #f1adad;" onclick="setTheme('#f1adad', '#fff9f9')"></div>
    <div class="color-dot" style="background: #94b3d8;" onclick="setTheme('#94b3d8', '#f7faff')"></div>
    <div class="color-dot" style="background: #e9c46a;" onclick="setTheme('#e9c46a', '#fffdf5')"></div>
</div>

<div class="fixed-controls">
    <div class="action-bar" onclick="toggleMenu()">
        <div class="folder-btn" id="mainBtnText">âœ¨ Ø§Ù„Ù‚Ø±Ø§Ø¡ ÙˆØ§Ù„Ù‚ÙˆØ§Ø¦Ù…</div>
    </div>
</div>

<div class="scrollable-content" id="scrollArea">
    <div id="qariMenu"></div>
    <div id="selectedQariArea" style="display:none;">
        <div id="surahList"></div>
    </div>
    <div class="designer-credit">ØªØµÙ…ÙŠÙ… ÙˆØªØ·ÙˆÙŠØ±: Ù…/Ø§Ù„Ø¹Ù„Ø§Ù„ÙŠ âœ¨</div>
</div>

<div class="modern-player" id="pBar">
    <div class="player-header">
        <div>
            <div id="pTitle">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
            <div id="pQari"></div>
        </div>
        <div onclick="closePlayer()" style="cursor:pointer; font-size: 1.2rem;">âœ•</div>
    </div>
    <audio id="audio" controls></audio>
</div>

<script>
    const surahNames = ["Ø§Ù„ÙØ§ØªØ­Ø©","Ø§Ù„Ø¨Ù‚Ø±Ø©","Ø¢Ù„ Ø¹Ù…Ø±Ø§Ù†","Ø§Ù„Ù†Ø³Ø§Ø¡","Ø§Ù„Ù…Ø§Ø¦Ø¯Ø©","Ø§Ù„Ø£Ù†Ø¹Ø§Ù…","Ø§Ù„Ø£Ø¹Ø±Ø§Ù","Ø§Ù„Ø£Ù†ÙØ§Ù„","Ø§Ù„ØªÙˆØ¨Ø©","ÙŠÙˆÙ†Ø³","Ù‡ÙˆØ¯","ÙŠÙˆØ³Ù","Ø§Ù„Ø±Ø¹Ø¯","Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…","Ø§Ù„Ø­Ø¬Ø±","Ø§Ù„Ù†Ø­Ù„","Ø§Ù„Ø¥Ø³Ø±Ø§Ø¡","Ø§Ù„ÙƒÙ‡Ù","Ù…Ø±ÙŠÙ…","Ø·Ù‡","Ø§Ù„Ø£Ù†Ø¨ÙŠØ§Ø¡","Ø§Ù„Ø­Ø¬","Ø§Ù„Ù…Ø¤Ù…Ù†ÙˆÙ†","Ø§Ù„Ù†ÙˆØ±","Ø§Ù„ÙØ±Ù‚Ø§Ù†","Ø§Ù„Ø´Ø¹Ø±Ø§Ø¡","Ø§Ù„Ù†Ù…Ù„","Ø§Ù„Ù‚ØµØµ","Ø§Ù„Ø¹Ù†ÙƒØ¨ÙˆØª","Ø§Ù„Ø±ÙˆÙ…","Ù„Ù‚Ù…Ø§Ù†","Ø§Ù„Ø³Ø¬Ø¯Ø©","Ø§Ù„Ø£Ø­Ø²Ø§Ø¨","Ø³Ø¨Ø£","ÙØ§Ø·Ø±","ÙŠØ³","Ø§Ù„ØµØ§ÙØ§Øª","Øµ","Ø§Ù„Ø²Ù…Ø±","ØºØ§ÙØ±","ÙØµÙ„Øª","Ø§Ù„Ø´ÙˆØ±Ù‰","Ø§Ù„Ø²Ø®Ø±Ù","Ø§Ù„Ø¯Ø®Ø§Ù†","Ø§Ù„Ø¬Ø§Ø«ÙŠØ©","Ø§Ù„Ø£Ø­Ù‚Ø§Ù","Ù…Ø­Ù…Ø¯","Ø§Ù„ÙØªØ­","Ø§Ù„Ø­Ø¬Ø±Ø§Øª","Ù‚","Ø§Ù„Ø°Ø§Ø±ÙŠØ§Øª","Ø§Ù„Ø·ÙˆØ±","Ø§Ù„Ù†Ø¬Ù…","Ø§Ù„Ù‚Ù…Ø±","Ø§Ù„Ø±Ø­Ù…Ù†","Ø§Ù„ÙˆØ§Ù‚Ø¹Ø©","Ø§Ù„Ø­Ø¯ÙŠØ¯","Ø§Ù„Ù…Ø¬Ø§Ø¯Ù„Ø©","Ø§Ù„Ø­Ø´Ø±","Ø§Ù„Ù…Ù…ØªØ­Ù†Ø©","Ø§Ù„ØµÙ","Ø§Ù„Ø¬Ù…Ø¹Ø©","Ø§Ù„Ù…Ù†Ø§ÙÙ‚ÙˆÙ†","Ø§Ù„ØªØºØ§Ø¨Ù†","Ø§Ù„Ø·Ù„Ø§Ù‚","Ø§Ù„ØªØ­Ø±ÙŠÙ…","Ø§Ù„Ù…Ù„Ùƒ","Ø§Ù„Ù‚Ù„Ù‘Ù…","Ø§Ù„Ø­Ø§Ù‚Ø©","Ø§Ù„Ù…Ø¹Ø§Ø±Ø¬","Ù†ÙˆØ­","Ø§Ù„Ø¬Ù†","Ø§Ù„Ù…Ø²Ù…Ù„","Ø§Ù„Ù…Ø¯Ø«Ø±","Ø§Ù„Ù‚ÙŠØ§Ù…Ø©","Ø§Ù„Ø¥Ù†Ø³Ø§Ù†","Ø§Ù„Ù…Ø±Ø³Ù„Ø§Øª","Ø§Ù„Ù†Ø¨Ø£","Ø§Ù„Ù†Ø§Ø²Ø¹Ø§Øª","Ø¹Ø¨Ø³","Ø§Ù„ØªÙƒÙˆÙŠØ±","Ø§Ù„Ø§Ù†ÙØ·Ø§Ø±","Ø§Ù„Ù…Ø·ÙÙÙŠÙ†","Ø§Ù„Ø§Ù†Ø´Ù‚Ø§Ù‚","Ø§Ù„Ø¨Ø±ÙˆØ¬","Ø§Ù„Ø·Ø§Ø±Ù‚","Ø§Ù„Ø£Ø¹Ù„Ù‰","Ø§Ù„ØºØ§Ø´ÙŠØ©","Ø§Ù„ÙØ¬Ø±","Ø§Ù„Ø¨Ù„Ø¯","Ø§Ù„Ø´Ù…Ø³","Ø§Ù„Ù„ÙŠÙ„","Ø§Ù„Ø¶Ø­Ù‰","Ø§Ù„Ø´Ø±Ø­","Ø§Ù„ØªÙŠÙ†","Ø§Ù„Ø¹Ù„Ù‚","Ø§Ù„Ù‚Ø¯Ø±","Ø§Ù„Ø¨ÙŠÙ†Ø©","Ø§Ù„Ø²Ù„Ø²Ù„Ø©","Ø§Ù„Ø¹Ø§Ø¯ÙŠØ§Øª","Ø§Ù„Ù‚Ø§Ø±Ø¹Ø©","Ø§Ù„ØªÙƒØ§Ø«Ø±","Ø§Ù„Ø¹ØµØ±","Ø§Ù„Ù‡Ù…Ø²Ø©","Ø§Ù„ÙÙŠÙ„","Ù‚Ø±ÙŠØ´","Ø§Ù„Ù…Ø§Ø¹ÙˆÙ†","Ø§Ù„ÙƒÙˆØ«Ø±","Ø§Ù„ÙƒØ§ÙØ±ÙˆÙ†","Ø§Ù„Ù†ØµØ±","Ø§Ù„Ù…Ø³Ø¯","Ø§Ù„Ø¥Ø®Ù„Ø§Øµ","Ø§Ù„ÙÙ„Ù‚","Ø§Ù„Ù†Ø§Ø³"];
    
    const qaris = [
        { name: "Ø³Ø¹ÙˆØ¯ Ø§Ù„Ø´Ø±ÙŠÙ…", img: "https://i.ibb.co/93bDqLNn/90.jpg", base: "https://server7.mp3quran.net/shur/" },
        { name: "Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù† Ø§Ù„Ø³Ø¯ÙŠØ³", img: "https://i.ibb.co/LX5G3DDz/image.jpg", base: "https://server11.mp3quran.net/sds/" },
        { name: "Ù…Ø§Ù‡Ø± Ø§Ù„Ù…Ø¹ÙŠÙ‚Ù„ÙŠ", img: "https://i.ibb.co/8CFys3C/011.jpg", base: "https://server12.mp3quran.net/maher/" },
        { name: "ÙŠØ§Ø³Ø± Ø§Ù„Ø¯ÙˆØ³Ø±ÙŠ", img: "https://i.ibb.co/pvWz0X3d/22.jpg", base: "https://server11.mp3quran.net/yasser/" },
        { name: "Ù†Ø§ØµØ± Ø§Ù„Ù‚Ø·Ø§Ù…ÙŠ", img: "https://i.ibb.co/0Rmgd7LT/image.jpg", base: "https://server6.mp3quran.net/qtm/" },
        { name: "Ù…Ø­Ù…Ø¯ Ø§Ù„Ù…Ù†Ø´Ø§ÙˆÙŠ", img: "https://i.ibb.co/RT0GBJKf/image.jpg", base: "https://server10.mp3quran.net/minsh/" },
        { name: "Ø¹Ø¨Ø¯Ø§Ù„Ø¨Ø§Ø³Ø· Ø¹Ø¨Ø¯Ø§Ù„ØµÙ…Ø¯", img: "https://i.ibb.co/3Y9t6Fk9/image.jpg", base: "https://server7.mp3quran.net/basit/" },
        { name: "Ù…Ø­Ù…ÙˆØ¯ Ø§Ù„Ø­ØµØ±ÙŠ", img: "https://i.ibb.co/XqT84ng/image.jpg", base: "https://server13.mp3quran.net/hussary/" }
    ];

    let currentQariName = "";

    function toggleNightMode() {
        document.body.classList.toggle('dark-mode');
        const btn = document.getElementById('nightBtn');
        btn.innerText = document.body.classList.contains('dark-mode') ? 'â˜€ï¸' : 'ğŸŒ™';
    }

    function setTheme(accent, body) {
        document.body.classList.remove('dark-mode');
        document.getElementById('nightBtn').innerText = 'ğŸŒ™';
        document.documentElement.style.setProperty('--accent-color', accent);
        document.documentElement.style.setProperty('--bg-body', body);
        document.documentElement.style.setProperty('--text-main', accent);
    }

    function init() {
        const menu = document.getElementById('qariMenu');
        menu.innerHTML = qaris.map((q, i) => `
            <div class="qari-card" onclick="selectQari(${i})">
                <img src="${q.img}" class="qari-img">
                <div style="font-weight:bold; color:var(--item-text);">${q.name}</div>
            </div>
        `).join('');
        toggleMenu(); // Ø§ÙØªØ­ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¹Ù†Ø¯ Ø§Ù„ØªØ´ØºÙŠÙ„ Ø£ÙˆÙ„ Ù…Ø±Ø©
    }

    function toggleMenu() {
        const menu = document.getElementById('qariMenu');
        const selectedArea = document.getElementById('selectedQariArea');
        
        if (menu.style.display === 'grid' || selectedArea.style.display === 'block') {
            menu.style.display = 'none';
            selectedArea.style.display = 'none';
        } else {
            menu.style.display = 'grid';
        }
    }

    function selectQari(i) {
        const q = qaris[i];
        currentQariName = q.name;
        document.getElementById('qariMenu').style.display = 'none';
        document.getElementById('selectedQariArea').style.display = 'block';
        document.getElementById('mainBtnText').innerText = "Ø§Ù„Ù‚Ø§Ø±Ø¦: " + q.name;
        
        let html = '';
        surahNames.forEach((name, idx) => {
            let num = (idx + 1).toString().padStart(3, '0');
            html += `<div class="surah-item" onclick="play('${q.base}${num}.mp3', 'Ø³ÙˆØ±Ø© ${name}')">
                <span>Ø³ÙˆØ±Ø© ${name}</span>
                <span style="color:var(--accent-color); font-weight:bold;">#${idx+1}</span>
            </div>`;
        });
        document.getElementById('surahList').innerHTML = html;
        document.getElementById('scrollArea').scrollTop = 0;
    }

    const audio = document.getElementById('audio');
    const pBar = document.getElementById('pBar');

    function play(url, title) {
        // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… Ø¹Ù†Ø¯ Ø§Ù„ØªØ´ØºÙŠÙ„
        document.getElementById('selectedQariArea').style.display = 'none';
        document.getElementById('qariMenu').style.display = 'none';
        
        // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù…Ø´ØºÙ„ ÙˆØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª
        pBar.classList.add('active');
        document.getElementById('pTitle').innerText = title;
        document.getElementById('pQari').innerText = "Ø¨ØµÙˆØª Ø§Ù„Ø´ÙŠØ®: " + currentQariName;
        audio.src = url;
        audio.play();
    }

    function closePlayer() {
        pBar.classList.remove('active');
        audio.pause();
        // Ø¹Ù†Ø¯ Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù…Ø´ØºÙ„ØŒ Ù†ÙØªØ­ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ Ù„ØªØ³Ù‡ÙŠÙ„ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±
        document.getElementById('qariMenu').style.display = 'grid';
    }

    init();
</script>
</body>
</html>